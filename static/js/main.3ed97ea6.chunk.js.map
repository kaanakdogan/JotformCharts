{"version":3,"sources":["logo.svg","opt.svg","delete.svg","Contexts/AuthContext.jsx","Components/Charts/BarChart.jsx","Components/Charts/Utils.js","Components/Charts/PieChart.jsx","Components/Charts/LineChart.jsx","Components/Charts/index.jsx","Components/ResponsiveLayout/index.jsx","Components/Report/styles.jsx","Components/Dropdown/styles.jsx","Components/Dropdown/index.jsx","Components/ColorPicker/index.jsx","Components/Report/RightPanel.jsx","Components/Report/ReportEditor.jsx","Components/Header/Styles.jsx","Components/Header/index.jsx","DataStore.js","History.js","Styles.jsx","Components/FormsList/Styles.jsx","Components/FormsList/Index.jsx","Components/CreateReport/Styles.jsx","Components/CreateReport/Index.jsx","Components/Modal/Styles.jsx","Components/Modal/Index.jsx","Components/ModalController.jsx","serviceWorker.js","index.js","App.jsx","Contexts/SubmissionsContext.jsx","Utils.js","Contexts/FormsContext.jsx","Components/Report/index.jsx","Contexts/ModalContext.jsx","Components/Tabs/Styles.jsx","Components/Tabs/index.jsx"],"names":["module","exports","AuthContext","React","createContext","AuthProvider","children","useState","isAuth","setAuth","LoginWithRouter","withRouter","Login","Provider","value","history","History","location","useContext","FormsContext","setForms","useEffect","CleanDatabase","promisify","global","JF","getUser","prom","then","formProm","getForms","console","log","limit","res","pathname","filter","r","id","push","catch","opts","responsive","maintainAspectRatio","scales","yAxes","ticks","min","BarChart","props","canvasRef","useRef","myChart","current","Chart","type","options","data","labels","map","d","label","datasets","title","backgroundColor","color","update","onClick","e","style","position","height","width","ref","labelConvert","submission","answer","dateObj","day","month","year","timeObj","hour","Number","hourSelect","minute","minuteSelect","ampm","timeToLabel","mapQuestionAnswers","qid","array","answers","i","cur","length","handleMultiChoice","stars","find","a","handleRating","o","handleSingleChoice","PieChart","padding","LineChart","pointRadius","fill","borderColor","borderWidth","lineTension","ChartController","index","setPanel","deleteChart","SubmissionsContext","submissions","FormDataContext","formData","setData","dataType","reduce","created_at","split","date","newArr","values","toReturn","c","av","getAvarageByDate","highest","getHighestByDate","handleClick","Toolbox","Object","questions","q","text","colors","Options","Wrapper","Img","src","Logo","del","styled","img","div","Open","keyframes","ReactGridLayout","WidthProvider","RGL","Layout","layout","onLayoutChange","charts","chartSelection","selected","setSelected","selectChart","key","delChart","overflow","margin","className","rowHeight","lo","FlexContainer","MainItem","RightItem","isVisible","ToggleBttn","openAnim","ToggleContent","span","DropviewContent","DropviewList","ul","DropviewListItem","li","attrs","Dropdown","def","onSelect","isActive","setActive","eventRef","selectItem","opt","handleClickOutside","contains","target","document","addEventListener","removeEventListener","role","ListItem","ColorPicker","isMultiple","onColorsChange","cols","setCols","active","array1","array2","JSON","stringify","arr1","arr2","openColorPicker","FlexWrapper","Color","AddButton","newCols","Picker","onColorChange","col","ColorDiv","PickerDiv","onChangeComplete","event","toRet","rgb","g","b","RightPanel","chart","setChartType","setDataType","setColors","setOptions","setQuestions","qs","typeOptions","dataOptions","ret","def3","getDefaultQuestion","ReportEditor","report","onReportEdit","l","layouts","setLayouts","setCharts","panel","reportToReturn","parse","k","preventDefault","Math","max","old","String","x","y","Infinity","w","h","minW","minH","add","newCharts","newLayouts","newC","Nav","NavHeader","NavLeft","NavCenter","NavRight","Header","ModalContext","setModal","logo","alt","tabIndex","to","isOpen","modalName","reports","GetReports","localforage","getItem","GetFormReports","formId","formReps","GetNextId","formReports","rep","AddReport","newRep","toString","setItem","EditReport","newReps","removeItem","createHashHistory","GlobalStyle","createGlobalStyle","Item","Link","ItemContent","ItemTitle","h2","ItemDesc","p","ItemLabels","List","forms","process","f","Card","name","desc","NameInput","input","Title","Content","Footer","Button","button","CreateReport","txt","setName","placeholder","autoComplete","onChange","required","evt","test","ModalCont","Close","theme","header","paddingTop","fontSize","ModalContainer","modalContainer","borderRad","textAlign","minWidth","ModalWrapper","Root","ModalContent","modalRoot","getElementById","Modal","el","createElement","appendChild","this","removeChild","context","ReactDOM","createPortal","Component","ModalView","modal","contextType","FullScreenTheme","CreateReportTheme","ModalController","href","redirectUrl","Boolean","window","hostname","match","render","exact","path","component","Reports","navigator","serviceWorker","ready","registration","unregister","SubmissionsProvider","setSubmissions","customArgumentsToken","original","TypeError","argumentNames","ES6Promise","Promise","Error","args","resolve","reject","forEach","err","call","FormsProvider","FormDataProvider","form","setForm","getFormSubmissions","setReports","getFormQuestions","params","GetSubmissions","reps","url","ReportPicker","setRep","targetRep","sort","r1","r2","ModalProvider","tabList","ol","tabItem","tabItemActive","DropviewWrapper","Tab","dropview","setDropview","Dropview","Tabs","activeTab","setActiveTab","tab","child"],"mappings":"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","file":"static/js/main.3ed97ea6.chunk.js","sourcesContent":["module.exports = __webpack_public_path__ + \"static/media/logo.c8cf4890.svg\";","module.exports = __webpack_public_path__ + \"static/media/opt.4ec93397.svg\";","module.exports = __webpack_public_path__ + \"static/media/delete.85846383.svg\";","import React, { useEffect, useContext } from 'react';\nimport PropType from 'prop-types';\nimport { HashRouter as Router, withRouter } from 'react-router-dom';\nimport promisify from '../Utils';\nimport History from '../History';\nimport { FormsContext } from './FormsContext';\nimport { CleanDatabase } from '../DataStore';\n\n\nexport const AuthContext = React.createContext(false);\n\nexport function AuthProvider({ children }) {\n  const [isAuth, setAuth] = React.useState(false);\n  const LoginWithRouter = withRouter(Login);\n\n  return (\n    <AuthContext.Provider value={[isAuth, setAuth]}>\n      <Router history={History}>\n        {isAuth ? children : <LoginWithRouter />}\n      </Router>\n    </AuthContext.Provider>\n  );\n}\n\nfunction Login({ location }) {\n  const [isAuth, setAuth] = useContext(AuthContext);\n  const [, setForms] = useContext(FormsContext);\n\n  useEffect(() => {\n    CleanDatabase();\n    const prom = promisify(global.JF.getUser);\n    prom()\n      .then(() => {\n        setAuth(true);\n        const formProm = promisify(global.JF.getForms);\n        console.log(location);\n        formProm({ limit: 200 })\n          .then((res) => {\n            setForms(res);\n            if (location.pathname) {\n              if (res.filter((r) => `/${r.id}` === location.pathname)) {\n                History.push(location.pathname);\n              } else {\n                History.push(`/${res[0].id}`);\n              }\n            } else {\n              History.push(`/${res[0].id}`);\n            }\n          });\n      })\n      .catch(() => {\n        setAuth(false);\n      });\n  }, []);\n\n  if (isAuth) {\n    return null;\n  }\n\n  return <div />;\n}\n\nAuthProvider.propTypes = {\n  children: PropType.node.isRequired,\n};\n","import React, { useRef, useEffect } from 'react';\nimport Chart from 'chart.js';\n\nconst opts = {\n  responsive: true,\n  maintainAspectRatio: false,\n  scales: {\n    yAxes: [{\n      ticks: {\n        min: 0,\n      },\n    }],\n  },\n\n};\n\n\nexport default function BarChart(props) {\n  const canvasRef = useRef(null);\n  const myChart = useRef(null);\n\n  useEffect(() => {\n    myChart.current = new Chart(canvasRef.current, {\n      type: 'bar',\n      options: opts,\n      data: {\n        labels: props.data.map((d) => d.label),\n        datasets: [{\n          label: props.title,\n          data: props.data.map((d) => d.value),\n          backgroundColor: props.color,\n        }],\n      },\n    });\n  }, []);\n\n  useEffect(() => {\n    myChart.current.data = {\n      labels: props.data.map((d) => d.label),\n      datasets: [{\n        label: props.title,\n        data: props.data.map((d) => d.value),\n        backgroundColor: props.color,\n      }],\n    };\n    myChart.current.update();\n  }, [props.data, props.title, props.color]);\n\n  const handleClick = (e) => {\n    props.onClick();\n  };\n\n  return (\n    <div onClick={handleClick} style={{ position: 'relative', height: '100%', width: '100%' }}>\n      <canvas ref={canvasRef} />\n    </div>\n  );\n}\n","function dateToLabel(dateObj) {\n  return `${dateObj.day}-${dateObj.month}-${dateObj.year}`;\n}\n\nfunction timeToLabel(timeObj) {\n  let hour = Number(timeObj.hourSelect);\n  const minute = timeObj.minuteSelect;\n\n  if (timeObj.ampm) {\n    hour += 12;\n  }\n\n  return `${hour}:${minute}`;\n}\n\nfunction labelConvert(submission) {\n  if (!submission.answer) {\n    return null;\n  }\n\n  if (submission.type === 'control_datetime') {\n    return dateToLabel(submission.answer);\n  } if (submission.type === 'control_time') {\n    return timeToLabel(submission.answer);\n  }\n\n  return submission.answer;\n}\n\nfunction handleSingleChoice(array, submission) {\n  const label = labelConvert(submission);\n\n  if (array.filter((o) => o.label === label).length !== 0) {\n    array.map((cur) => {\n      if (cur.label === label) {\n        return cur.value++;\n      }\n      return cur;\n    });\n\n    return array;\n  }\n\n  if (submission.answer) {\n    array.push({\n      label,\n      value: 1,\n    });\n  }\n  return array;\n}\n\nfunction handleMultiChoice(array, submission) {\n  if (!submission.answer) {\n    return array;\n  }\n\n\n  for (let i = 0; i < submission.answer.length; i++) {\n    const myArr = array.filter((cur) => cur.label === submission.answer[i]);\n    if (myArr.length === 0) {\n      array.push({\n        label: submission.answer[i],\n        value: 0,\n      });\n    }\n\n    array.map((cur) => {\n      if (cur.label === submission.answer[i]) {\n        return cur.value++;\n      }\n      return cur;\n    });\n  }\n\n  return array;\n}\n\nfunction handleRating(array, submission) {\n  if (!submission.answer) {\n    return array;\n  }\n\n  if (array.length !== submission.stars + 1) {\n    for (let i = 0; i <= submission.stars; i++) {\n      if (!array.find((a) => a.label == i)) {\n        array.push({ label: i, value: 0 });\n      }\n    }\n  }\n\n  array.map((cur) => {\n    if (cur.label == submission.answer) {\n      return cur.value++;\n    }\n    return cur;\n  });\n\n  return array;\n}\n\nexport default function mapQuestionAnswers(qid) {\n  return function reducer(array, current) {\n    if (!array) {\n      array = [];\n    }\n\n    if (current.answers[qid].type === 'control_checkbox') {\n      return handleMultiChoice(array, current.answers[qid]);\n    }\n\n    if (current.answers[qid].type === 'control_rating') {\n      return handleRating(array, current.answers[qid]);\n    }\n\n    return handleSingleChoice(array, current.answers[qid]);\n  };\n}\n\nexport function mapSubmissionsByDate() {\n  return function reducer(array, current) {\n    if (!array) {\n      array = [];\n    }\n\n    const label = current.created_at.split(' ')[0];\n\n    if (array.filter((o) => o.label === label).length === 0) {\n      array.push({\n        label,\n        value: 1,\n      });\n    } else {\n      array.map((o) => {\n        if (o.label === label) {\n          return o.value++;\n        }\n        return o;\n      });\n    }\n\n    return array;\n  };\n}\n\nexport function getAvarageByDate(qid, submissions) {\n  console.log(submissions);\n  function reducer(array, current) {\n    if (!array) {\n      array = [];\n    }\n\n    if (!current.answers[qid].answer) {\n      return array;\n    }\n\n    const date = current.created_at.split(' ')[0];\n\n    if (array.find((e) => e.date === date)) {\n      array.map((e) => {\n        if (e.date === date) {\n          const newArr = [...(e.values)];\n          newArr.push(current.answers[qid].answer);\n          e.values = newArr;\n          return e.values;\n        }\n\n        return e;\n      });\n    } else {\n      array.push({\n        date,\n        values: [current.answers[qid].answer],\n      });\n    }\n\n    return array;\n  }\n\n  const data = submissions.reduce(reducer, []);\n\n  const toReturn = [];\n  for (let i = 0; i < data.length; i++) {\n    let c = 0;\n    let av = 0;\n    for (c; c < data[i].values.length; c++) {\n      av += Number(data[i].values[c]);\n    }\n\n    av /= c;\n    toReturn.push({\n      label: data[i].date,\n      value: av,\n    });\n  }\n\n  return toReturn;\n}\n\n\nexport function getHighestByDate(qid, submissions) {\n  console.log(submissions);\n  function reducer(array, current) {\n    if (!array) {\n      array = [];\n    }\n\n    if (!current.answers[qid].answer) {\n      return array;\n    }\n\n    const date = current.created_at.split(' ')[0];\n\n    if (array.find((e) => e.date === date)) {\n      array.map((e) => {\n        if (e.date === date) {\n          const newArr = [...(e.values)];\n          newArr.push(current.answers[qid].answer);\n          e.values = newArr;\n          return e.values;\n        }\n\n        return e;\n      });\n    } else {\n      array.push({\n        date,\n        values: [current.answers[qid].answer],\n      });\n    }\n\n    return array;\n  }\n\n  const data = submissions.reduce(reducer, []);\n\n  const toReturn = [];\n  for (let i = 0; i < data.length; i++) {\n    let c = 0;\n    let highest = 0;\n    for (c; c < data[i].values.length; c++) {\n      if (highest < Number(data[i].values[c])) {\n        highest = Number(data[i].values[c]);\n      }\n    }\n\n    toReturn.push({\n      label: data[i].date,\n      value: highest,\n    });\n  }\n\n  return toReturn;\n}\n","import React, { useRef, useEffect } from 'react';\nimport Chart from 'chart.js';\n\nexport default function PieChart(props) {\n  const canvasRef = useRef(null);\n  const myChart = useRef(null);\n\n  useEffect(() => {\n    myChart.current = new Chart(canvasRef.current, {\n      type: 'pie',\n      options: {\n        responsive: true,\n        maintainAspectRatio: false,\n      },\n      data: {\n        labels: props.data.map((d) => d.label),\n        datasets: [{\n          label: props.title,\n          data: props.data.map((d) => d.value),\n          backgroundColor: props.color,\n        }],\n      },\n    });\n  }, []);\n\n  useEffect(() => {\n    myChart.current.data = {\n      labels: props.data.map((d) => d.label),\n      datasets: [{\n        label: props.title,\n        data: props.data.map((d) => d.value),\n        backgroundColor: props.color,\n      }],\n    };\n    myChart.current.update();\n  }, [props.data, props.title, props.color]);\n\n  const handleClick = (e) => {\n    props.onClick();\n  };\n\n  return (\n    <div onClick={handleClick} style={{ position: 'relative', height: '100%', width: '100%' }}>\n      <canvas style={{ padding: '10px' }} ref={canvasRef} />\n    </div>\n  );\n}\n","import React, { useRef, useEffect } from 'react';\nimport Chart from 'chart.js';\n\nexport default function LineChart(props) {\n  const canvasRef = useRef(null);\n  const myChart = useRef(null);\n\n  useEffect(() => {\n    myChart.current = new Chart(canvasRef.current, {\n      type: 'line',\n      options: {\n        responsive: true,\n        maintainAspectRatio: false,\n        scales: {\n          yAxes: [\n            {\n              ticks: {\n                min: 0,\n              },\n            },\n          ],\n        },\n      },\n      data: {\n        labels: props.data.map((d) => d.label),\n        datasets: [{\n          label: props.title,\n          data: props.data.map((d) => d.value),\n          backgroundColor: props.color,\n          pointRadius: 2,\n          fill: 'false',\n          borderColor: props.color,\n          borderWidth: 1,\n          lineTension: 0,\n        }],\n      },\n    });\n  }, []);\n\n  useEffect(() => {\n    myChart.current.data = {\n      labels: props.data.map((d) => d.label),\n      datasets: [{\n        label: props.title,\n        data: props.data.map((d) => d.value),\n        backgroundColor: props.color,\n        pointRadius: 2,\n        fill: 'false',\n        borderColor: props.color,\n        borderWidth: 1,\n        lineTension: 0,\n      }],\n    };\n    myChart.current.update();\n  }, [props.data, props.title, props.color]);\n\n  const handleClick = (e) => {\n    props.onClick();\n  };\n\n  return (\n    <div onClick={handleClick} style={{ position: 'relative', height: '100%', width: '100%' }}>\n      <canvas ref={canvasRef} />\n    </div>\n  );\n}\n","import React, { useRef, useEffect } from 'react';\nimport styled, { keyframes } from 'styled-components';\nimport BarChart from './BarChart';\nimport { SubmissionsContext } from '../../Contexts/SubmissionsContext';\nimport Logo from '../../opt.svg';\nimport del from '../../delete.svg';\nimport mapQuestionAnswers, { mapSubmissionsByDate, getAvarageByDate, getHighestByDate } from './Utils';\nimport { FormDataContext } from '../../Contexts/FormsContext';\nimport PieChart from './PieChart';\nimport LineChart from './LineChart';\n\nexport default function ChartController({\n  children, onClick, index, setPanel, opts, deleteChart,\n}) {\n  const [submissions] = React.useContext(SubmissionsContext);\n  const [formData] = React.useContext(FormDataContext);\n  const [data, setData] = React.useState([]);\n\n  useEffect(() => {\n    let d;\n    switch (opts.dataType) {\n      case '1':\n        d = submissions.reduce(mapQuestionAnswers(opts.qid), []);\n        break;\n      case '2':\n        d = submissions.reduce(mapSubmissionsByDate(), []);\n        break;\n      case '3':\n        d = getAvarageByDate(opts.qid, submissions);\n        break;\n      case '4':\n        d = getHighestByDate(opts.qid, submissions);\n        break;\n      default:\n        d = submissions.reduce(mapQuestionAnswers(opts.qid), []);\n        break;\n    }\n\n    setData(d);\n    console.log(d);\n  }, [opts.qid, opts.dataType, opts.type]);\n\n  const handleClick = (e) => {\n    onClick(index);\n  };\n\n  if (opts) {\n    if (opts.type === 'bar') {\n      return (\n        <>\n          {children && children.length !== 0 ? <Toolbox setPanel={setPanel} deleteChart={deleteChart} /> : null}\n          <BarChart\n            onClick={handleClick}\n            data={data}\n            title={opts.dataType == 2 ? ' Submission Count Per Day' : Object.values(formData.questions).find((q) => q.qid === opts.qid).text}\n            color={opts.colors[0]}\n          />\n        </>\n      );\n    }\n\n    if (opts.type === 'pie') {\n      return (\n        <>\n          {children && children.length !== 0 ? <Toolbox setPanel={setPanel} deleteChart={deleteChart} /> : null}\n          <PieChart\n            onClick={handleClick}\n            data={data}\n            title={opts.dataType == 2 ? ' Submission Count Per Day' : Object.values(formData.questions).find((q) => q.qid === opts.qid).text}\n            color={opts.colors}\n          />\n        </>\n      );\n    }\n  }\n\n  if (opts.type === 'line') {\n    return (\n      <>\n        {children && children.length !== 0 ? <Toolbox setPanel={setPanel} deleteChart={deleteChart} /> : null}\n        <LineChart\n          onClick={handleClick}\n          data={data}\n          title={opts.dataType == 2 ? ' Submission Count Per Day' : Object.values(formData.questions).find((q) => q.qid === opts.qid).text}\n          color={opts.colors[0]}\n        />\n      </>\n    );\n  }\n\n\n  return null;\n}\n\nfunction Toolbox({ setPanel, deleteChart }) {\n  const handleOpenPanel = () => {\n    setPanel();\n  };\n\n  const handleDeleteChart = () => {\n    deleteChart();\n  };\n\n  return (\n    <Options>\n      <Wrapper onClick={handleOpenPanel}>\n        <Img src={Logo} />\n      </Wrapper>\n      <Wrapper onClick={handleDeleteChart}>\n        <Img src={del} />\n      </Wrapper>\n    </Options>\n  );\n}\n\nconst Img = styled.img`\n  height: 15px;\n`;\n\nconst Wrapper = styled.div`\npadding 5px;\ntext-align: center;\ncursor: pointer;\n`;\n\nconst Open = keyframes`\n0% {\n  right: 0;\n  opacity: 0;\n}\n\n50% {\n  opacity: 0;\n}\n100% {\n  right: -35px;\n  opacity: 1;\n}\n`;\n\nconst Options = styled.div`\n  position: absolute;\n  top: 0px;\n  right: 0px;\n  opacity: 0;\n  height: auto;\n  background-color: rgb(76, 127, 244);\n  cursor: default;\n  z-index: 1;\n  padding: 5px 0px;\n  border-radius: 4px;\n  animation: ${Open} 0.2s ease 0s 1 normal forwards running;\n`;\n","import React from 'react';\nimport RGL, { WidthProvider } from 'react-grid-layout';\nimport ChartController from '../Charts';\nimport { FormDataContext } from '../../Contexts/FormsContext';\n\n\nconst ReactGridLayout = WidthProvider(RGL);\n\nexport default function Layout({\n  layout, onLayoutChange, charts, setPanel, chartSelection, deleteChart,\n}) {\n  const [data] = React.useContext(FormDataContext);\n  const [selected, setSelected] = chartSelection;\n\n  const selectChart = (key) => {\n    setSelected(key);\n  };\n\n  const delChart = () => {\n    deleteChart(selected);\n    setSelected(null);\n    setPanel();\n  };\n\n  React.useEffect(() => console.log(charts), [charts]);\n\n  React.useEffect(() => {\n    setSelected(null);\n  }, [data]);\n\n  return (\n    <div style={{ position: 'relative', overflow: 'auto' }}>\n\n      <div style={{ width: '1200px', margin: '0 auto' }}>\n        <ReactGridLayout\n          className=\"layout\"\n\n          rowHeight={60}\n          layout={layout}\n          onLayoutChange={(lo) => onLayoutChange(lo)}\n        >\n          {charts.map((c) => (\n            <div key={c.i}>\n              <ChartController index={c.i} onClick={selectChart} setPanel={setPanel} opts={c.options} deleteChart={delChart}>\n                {selected === c.i ? <div /> : null }\n              </ChartController>\n            </div>\n          ))}\n        </ReactGridLayout>\n      </div>\n    </div>\n  );\n}\n","import styled from 'styled-components';\n\nexport const FlexContainer = styled.div`\n  display: flex;\n`;\n\nexport const MainItem = styled.div`\n  flex: 1 1;\n  order: 1;\n  user-select: none;\n  position: relative;\n  max-width: 100%;\n  height: 100%;\n  background-color: #e7e7e7;\n`;\n\nexport const RightItem = styled.div`\n  flex: 1 1;\n  max-width: ${(props) => (props.isVisible ? '360px' : '0px')};\n  display:${(props) => (props.isVisible ? 'block' : 'none')}\n  order: 2;\n  color: #fff;\n  background-color: #1c2843;\n  box-shadow: -5px 0 9px 0 rgba(0,0,0,.2);\n`;\n","import styled, { keyframes } from 'styled-components';\n\nexport const Wrapper = styled.div`\nwidth: 100%;\nborder-radius: 3px;\nbackground-color: #415276;\nborder: 1px solid #111b31;\nposition: relative;\n`;\n\nexport const ToggleBttn = styled.div`\n  text-align: center;\n  cursor: pointer;\n  -webkit-transition: color .3s;\n  transition: color .3s;\n  display: block;\n`;\n\nexport const openAnim = keyframes`\n0% {\n  max-height: 0;\n}\n100% {\n  max-height: 300px;\n}\n`;\n\nexport const ToggleContent = styled.span`\nwidth: 100%;\ntext-align: left;\npadding: 8px 38px 8px 8px;\n\ndisplay: inline-block;\nmax-width: 100%;\ntext-overflow: ellipsis;\nwhite-space: nowrap;\noverflow: hidden;\nvertical-align: middle;\nfont-size: 16px;\nmargin: 0;\nposition: relative;\n`;\n\nexport const DropviewContent = styled.div`\n  position: absolute;\n  width: 100%;\n  overflow-y: auto;\n  border-radius: 5px;\n  z-index: 15;\n  background-color: #fff;\n  box-shadow: 0 0 10px rgba(0,0,0,.3);\n  right: 0px;\n  animation: ${openAnim} .25s ease forwards;\n`;\n\nexport const DropviewList = styled.ul`\nlist-style: none;\nmargin: 0;\npadding: 0;\n`;\n\nexport const DropviewListItem = styled.li.attrs((props) => ({\n  key: props.key,\n}))`\ncursor: pointer;\ncolor: ${(props) => (props.selected ? '#fff' : '#000')};\nbackground: ${(props) => (props.selected ? '#2f90ff' : '#fff')};\ntext-align: left;\npadding: 6px 10px;\nfont-size: 14px;\noverflow: hidden;\nwhite-space: nowrap;\ntext-overflow: ellipsis;\n`;\n","import React from 'react';\nimport * as Styles from './styles';\n\nexport default function Dropdown({ options, def, onSelect }) {\n  const [isActive, setActive] = React.useState(false);\n  const [selected, setSelected] = React.useState('');\n  const eventRef = React.useRef(null);\n\n  React.useEffect(() => {\n    setSelected(def);\n  }, [options, def]);\n\n  const toggleActive = () => {\n    setActive(!isActive);\n  };\n\n  const selectItem = (opt) => {\n    setActive(false);\n    onSelect(opt.qid);\n    setSelected(opt.text);\n  };\n\n  const handleClickOutside = (e) => {\n    if (eventRef.current && !eventRef.current.contains(e.target)) {\n      setActive(false);\n    }\n  };\n\n  React.useEffect(() => {\n    document.addEventListener('mousedown', handleClickOutside);\n\n    return () => { document.removeEventListener('mousedown', handleClickOutside); };\n  }, []);\n\n  return (\n    <Styles.Wrapper ref={eventRef}>\n      <Styles.ToggleBttn role=\"button\" onClick={toggleActive}>\n        <Styles.ToggleContent>\n          {selected}\n        </Styles.ToggleContent>\n      </Styles.ToggleBttn>\n      { isActive\n        ? (\n          <Styles.DropviewContent>\n            <Styles.DropviewList>\n              {options.map((opt) => <ListItem opt={opt} onClick={selectItem} selected={selected} />)}\n            </Styles.DropviewList>\n          </Styles.DropviewContent>\n        ) : null}\n    </Styles.Wrapper>\n  );\n}\n\nfunction ListItem({ opt, onClick, selected }) {\n  const handleClick = (e) => {\n    onClick(opt);\n  };\n\n  return (\n    <Styles.DropviewListItem key={opt.qid} onClick={handleClick} selected={selected === opt.text}>{opt.text}</Styles.DropviewListItem>\n  );\n}\n","import React from 'react';\nimport { SketchPicker } from 'react-color';\nimport styled from 'styled-components';\n\nfunction compareArrays(array1, array2) {\n  if (array1.length !== array2.length) {\n    return false;\n  }\n\n  const str1 = JSON.stringify(array1);\n  const str2 = JSON.stringify(array2);\n  if (str1 === str2) {\n    return false;\n  }\n\n  console.log({ arr1: JSON.stringify(array1), arr2: JSON.stringify(array2) });\n\n  return true;\n}\n\nexport default function ColorPicker({ isMultiple, colors, onColorsChange }) {\n  const [cols, setCols] = React.useState(colors);\n  const [active, setActive] = React.useState(false);\n  const eventRef = React.useRef(null);\n\n  React.useEffect(() => onColorsChange(cols), [cols]);\n  React.useEffect(() => {\n    if (compareArrays(colors, cols)) {\n      setCols(colors);\n    }\n  }, [colors]);\n\n  const addNewColor = () => {\n    const newCols = [...cols];\n    newCols.push('#fff');\n    setCols(newCols);\n  };\n\n  const openColorPicker = (index) => {\n    setActive(index);\n  };\n\n  const handleClickOutside = (e) => {\n    if (eventRef.current && !eventRef.current.contains(e.target)) {\n      setActive(false);\n    }\n  };\n\n  const handleChange = (col) => {\n    const newCols = [...cols];\n    newCols[active] = col;\n    setCols(newCols);\n  };\n\n  React.useEffect(() => {\n    document.addEventListener('mousedown', handleClickOutside);\n\n    return () => { document.removeEventListener('mousedown', handleClickOutside); };\n  }, []);\n\n  return (\n    <div style={{ position: 'relative' }} ref={eventRef}>\n\n      <FlexWrapper>\n        {isMultiple\n          ? (\n            <>\n              {cols.map((c, index) => (\n                <Color color={c} index={index} onClick={openColorPicker} />\n              ))}\n              <AddButton onClick={addNewColor}>+</AddButton>\n            </>\n          )\n          : (\n            <>\n              <Color color={cols[0]} index={0} onClick={openColorPicker} />\n            </>\n          )}\n\n      </FlexWrapper>\n      {(active !== false ? <Picker color={cols[active]} onColorChange={handleChange} /> : null)}\n    </div>\n  );\n}\n\nfunction Color({\n  color, onClick, index,\n}) {\n  const handleClick = () => {\n    console.log(index);\n    onClick(index);\n  };\n  return <ColorDiv color={color} onClick={handleClick} />;\n}\n\nfunction Picker({ color, onColorChange }) {\n  const handleChangeComplete = (col, event) => {\n    console.log(col);\n    const toRet = `rgba(${col.rgb.r}, ${col.rgb.g}, ${col.rgb.b}, ${col.rgb.a})`;\n    onColorChange(toRet);\n  };\n  return (\n    <PickerDiv>\n      <SketchPicker color={color} onChangeComplete={handleChangeComplete} />\n    </PickerDiv>\n  );\n}\n\nconst PickerDiv = styled.div`\nposition: absolute;\n`;\n\nconst AddButton = styled.div`\n  width: 26px;\n  height: 26px;\n  margin 10px;\n  background: #19613D;\n  color: #fff;\n  border-radius: 10%;\n  font-size: 20px;\n  text-align: center;\n`;\n\nconst ColorDiv = styled.div`\nwidth: 26px;\nheight: 26px;\nmargin 10px;\nbackground: ${(props) => props.color};\ncolor: #fff;\nborder-radius: 10%;\nfont-size: 20px;\ntext-align: center;\n`;\n\nconst FlexWrapper = styled.div`\n  display: flex;\n  flex-wrap: wrap;\n  justify-content: start;\n`;\n","import React from 'react';\nimport * as Styles from './styles';\nimport { FormDataContext } from '../../Contexts/FormsContext';\nimport Dropdown from '../Dropdown';\nimport ColorPicker from '../ColorPicker';\n\nexport default function RightPanel({\n  chart, setSelected, setChartType, setDataType, setColors,\n}) {\n  const [options, setOptions] = React.useState([]);\n  const [questions, setQuestions] = React.useState([]);\n  const [data] = React.useContext(FormDataContext);\n\n  React.useEffect(() => {\n    if (chart) {\n      if (chart.options.dataType == 3 || chart.options.dataType == 4) {\n        const qs = data.questions.filter((q) => q.type === 'control_rating'\n        || q.type === 'control_number');\n\n        console.log(qs);\n        setQuestions(qs);\n      } else if (chart.options.dataType == 2) {\n        setQuestions(null);\n      } else {\n        const qs = data.questions.filter((q) => q.type === 'control_datetime'\n      || q.type === 'control_time' || q.type === 'control_dropdown'\n      || q.type === 'control_radio' || q.type === 'control_checkbox'\n      || q.type === 'control_rating' || q.type === 'control_number');\n\n        setQuestions(qs);\n      }\n    } else {\n      const qs = data.questions.filter((q) => q.type === 'control_datetime'\n      || q.type === 'control_time' || q.type === 'control_dropdown'\n      || q.type === 'control_radio' || q.type === 'control_checkbox'\n      || q.type === 'control_rating' || q.type === 'control_number');\n\n      setQuestions(qs);\n    }\n  }, [chart]);\n\n  React.useEffect(() => {\n    const qs = questions;\n    setOptions(qs);\n    console.log(qs);\n  }, [questions]);\n\n  const onQuestionSelect = (qid) => {\n    setSelected(qid);\n  };\n\n  const onChartTypeSelect = (type) => {\n    setChartType(type);\n  };\n\n  const onDataTypeSelect = (type) => {\n    setDataType(type);\n\n    if (type == 3 || type == 4) {\n      const qs = data.questions.filter((q) => q.type === 'control_rating'\n      || q.type === 'control_number');\n\n      console.log(qs);\n      setQuestions(qs);\n    } else if (type == 2) {\n      setQuestions(null);\n    } else {\n      const qs = data.questions.filter((q) => q.type === 'control_datetime'\n        || q.type === 'control_time' || q.type === 'control_dropdown'\n        || q.type === 'control_radio' || q.type === 'control_checkbox'\n        || q.type === 'control_rating' || q.type === 'control_number');\n\n      setQuestions(qs);\n    }\n  };\n\n  const typeOptions = [{ qid: 'bar', text: 'Bar' }, { qid: 'pie', text: 'Pie' }, { qid: 'line', text: 'Line' }];\n\n  const dataOptions = [{\n    qid: '1',\n    text: 'All answers for a Field',\n  }, {\n    qid: '2',\n    text: 'Submission Count Per Day',\n  }, {\n    qid: '3',\n    text: 'Avarage of answers for a field per day',\n  }, {\n    qid: '4',\n    text: 'Highest of answers for a field per day',\n  }];\n\n  const def = () => {\n    if (chart && chart.options) {\n      return typeOptions.find((d) => d.qid === chart.options.type).text;\n    }\n\n    return 'Bar';\n  };\n\n  const def2 = () => {\n    if (chart && chart.options.dataType) {\n      return dataOptions.find((d) => d.qid === chart.options.dataType).text;\n    }\n\n    return 'All answers for a Field';\n  };\n\n  const def3 = () => {\n    if (chart && chart.options) {\n      const ret = questions.find((q) => q.qid === chart.options.qid);\n      if (ret) {\n        return ret.text;\n      }\n\n      setSelected(questions[0].qid);\n      return questions[0].text;\n    }\n    return questions.map((q) => q.text)[0];\n  };\n\n  const def4 = () => {\n    if (chart && chart.options) {\n      return chart.options.colors;\n    }\n\n    return ['#a8e0ff', '#8ee3f5', '#70cad1', '#3e517a', '#b08ea2', '#BBB6DF'];\n  };\n\n  return (\n    <div style={{ width: '100%' }}>\n      <p>Chart Options</p>\n      <Dropdown def={def()} options={typeOptions} onSelect={onChartTypeSelect} />\n      <Dropdown def={def2()} options={dataOptions} onSelect={onDataTypeSelect} />\n      {questions ? <Dropdown def={def3()} options={questions} onSelect={onQuestionSelect} /> : null}\n      <ColorPicker isMultiple={chart && chart.options.type === 'pie'} colors={def4()} onColorsChange={setColors} />\n    </div>\n  );\n}\n\n// All answers for a Field,\n// Submission Count Per Day,\n// Avarage of answers for a field per day\n// Highest of answers for a field per day\n","import React from 'react';\nimport Layout from '../ResponsiveLayout';\nimport * as Styles from './styles';\nimport RightPanel from './RightPanel';\nimport { FormDataContext } from '../../Contexts/FormsContext';\n\nfunction getDefaultQuestion(questions) {\n  return questions.filter((q) => q.type === 'control_datetime'\n      || q.type === 'control_time' || q.type === 'control_dropdown'\n      || q.type === 'control_radio' || q.type === 'control_checkbox'\n      || q.type === 'control_rating' || q.type === 'control_number')[0];\n}\n\nexport default function ReportEditor({ report, onReportEdit }) {\n  const [layouts, setLayouts] = React.useState(report.charts.map((l) => l.layout));\n  const [charts, setCharts] = React.useState(report.charts);\n  const [questions] = React.useContext(FormDataContext);\n  const [panel, setPanel] = React.useState(false);\n  const [selected, setSelected] = React.useState();\n\n  React.useEffect(() => {\n    setLayouts(report.charts.map((l) => l.layout));\n    setCharts(report.charts);\n  }, [report]);\n\n  // Save layout and charts on editing either of those.\n  React.useEffect(() => {\n    const reportToReturn = JSON.parse(JSON.stringify(report));\n    reportToReturn.charts = [];\n    for (let c = 0; c < layouts.length; c++) {\n      const k = layouts[c].i;\n      reportToReturn.charts.push({\n        layout: layouts.filter((l) => l.i == k)[0],\n        i: k,\n        options: charts[c].options,\n      });\n    }\n    onReportEdit(reportToReturn);\n  }, [layouts, charts]);\n\n  const onLayoutsChange = (layout) => {\n    setLayouts(layout);\n  };\n\n  const add = () => {\n    const key = charts.reduce((a, b) => Math.max(a, b.i), 1) + 1;\n\n    setCharts((old) => [...old, {\n      i: key,\n      options: {\n        qid: getDefaultQuestion(questions.questions).qid,\n        type: 'bar',\n        colors: ['#a8e0ff', '#8ee3f5', '#70cad1', '#3e517a', '#b08ea2', '#BBB6DF'],\n      },\n    }]);\n\n    setLayouts((old) => [...old, {\n      i: String(key),\n      x: 0,\n      y: Infinity,\n      w: 4,\n      h: 4,\n      minW: 4,\n      minH: 4,\n    }]);\n  };\n\n  const handleAdd = (e) => {\n    e.preventDefault();\n\n    add();\n  };\n\n  const togglePanel = () => {\n    setPanel(!panel);\n  };\n\n  const deleteChart = (key) => {\n    const newCharts = charts.filter((c) => c.i !== key);\n    const newLayouts = layouts.filter((l) => Number(l.i) !== key);\n    console.log(key);\n    console.log({ newCharts, charts });\n    console.log({ newLayouts, layouts });\n\n    setCharts(newCharts);\n    setLayouts(newLayouts);\n  };\n\n  const setSelectedQuestion = (qid) => {\n    const newCharts = charts.map((c) => {\n      if (c.i === selected) {\n        const newC = c;\n        newC.options.qid = qid;\n\n        return newC;\n      }\n\n      return c;\n    });\n\n    setCharts(newCharts);\n  };\n\n  const setDataType = (type) => {\n    const newCharts = charts.map((c) => {\n      if (c.i === selected) {\n        const newC = c;\n        newC.options.dataType = type;\n\n        return newC;\n      }\n\n      return c;\n    });\n\n    setCharts(newCharts);\n  };\n\n  const setChartType = (type) => {\n    const newCharts = charts.map((c) => {\n      if (c.i === selected) {\n        const newC = c;\n        newC.options.type = type;\n\n        return newC;\n      }\n\n      return c;\n    });\n\n    setCharts(newCharts);\n  };\n\n  const setColors = (cols) => {\n    const newCharts = charts.map((c) => {\n      if (c.i === selected) {\n        const newC = c;\n        newC.options.colors = cols;\n\n        return newC;\n      }\n\n      return c;\n    });\n\n    setCharts(newCharts);\n  };\n\n  return (\n    <div>\n      <button type=\"button\" onClick={handleAdd}>New Chart</button>\n      <Styles.FlexContainer>\n        <Styles.MainItem>\n          <div style={{ width: '100%' }}>\n            <Layout\n              charts={charts}\n              layout={layouts}\n              onLayoutChange={onLayoutsChange}\n              setPanel={togglePanel}\n              deleteChart={deleteChart}\n              chartSelection={[selected, setSelected]}\n            />\n          </div>\n        </Styles.MainItem>\n\n        <Styles.RightItem isVisible={panel}>\n          <RightPanel\n            chart={charts.find((c) => {\n              console.log(c.i);\n              console.log(selected);\n              return c.i == selected;\n            })}\n            setSelected={setSelectedQuestion}\n            setChartType={setChartType}\n            setDataType={setDataType}\n            setColors={setColors}\n          />\n        </Styles.RightItem>\n\n      </Styles.FlexContainer>\n    </div>\n  );\n}\n","import styled from 'styled-components';\n\nexport const Nav = styled.div`\n  background-color: rgb(49, 97, 207);\n  border-bottom: 1px solid #254db3;\n`;\n\nexport const NavHeader = styled.div`\n  max-width: 1010px;\n  padding: 26px 20px;\n  width: 100%;\n  display: flex;\n  align-items: center;\n  margin: 0 auto;\n`;\n\nexport const NavLeft = styled.div`\n  width: 33.333%;\n  text-align: center;\n`;\n\nexport const Img = styled.img`\n  height: 45px;\n`;\n\nexport const NavCenter = styled.div`\n  width: 33.333%;\n  text-align: center;\n`;\n\nexport const NavRight = styled.div`\n  width: 33.333%;\n  text-align: center;\n\n  svg {\n    margin-right: 20px;\n  }\n`;\n","import React from 'react';\nimport logo from '../../logo.svg';\nimport {\n  Nav, NavHeader, Img, NavLeft, NavCenter, NavRight,\n} from './Styles';\nimport { ModalContext } from '../../Contexts/ModalContext';\n\nexport default function Header() {\n  const [, setModal] = React.useContext(ModalContext);\n\n  const handleClick = (e) => {\n    e.preventDefault();\n\n    setModal({ isOpen: true, modalName: 'formSelect' });\n  };\n\n  return (\n    <Nav>\n      <NavHeader>\n        <NavLeft>\n          <Img src={logo} className=\"App-logo\" alt=\"logo\" />\n        </NavLeft>\n        <NavCenter>\n          <button type=\"button\" tabIndex={-1} to=\"/\" onClick={handleClick}>Your Forms</button>\n        </NavCenter>\n        <NavRight />\n      </NavHeader>\n    </Nav>\n  );\n}\n\nexport function Help() {\n  return (\n    <div>Help</div>\n  );\n}\n\nexport function Home() {\n  return (\n    <div>Home</div>\n  );\n}\n","import localforage from 'localforage';\n\nlet reports;\n\nexport async function GetReports() {\n  if (reports) {\n    reports = await localforage.getItem('Reports');\n    if (!reports) {\n      reports = [];\n    }\n  } else {\n    reports = [];\n  }\n\n  return reports;\n}\n\nexport async function GetFormReports(formId) {\n  await GetReports();\n\n  if (reports) {\n    // eslint-disable-next-line eqeqeq\n    const formReps = reports.filter((r) => r.id == formId)[0];\n\n    if (formReps) {\n      return formReps.reports;\n    }\n  }\n}\n\nexport async function GetNextId(formId) {\n  const formReports = await GetFormReports(formId);\n  if (formReports) {\n    let rep = formReports[0];\n    for (let i = 0; i < formReports.length; i += 1) {\n      if (rep.id < formReports[i].id) {\n        rep = formReports[i];\n      }\n    }\n\n    return rep.id;\n  }\n  return 0;\n}\n\nexport async function AddReport(formId, report) {\n  reports = await GetReports();\n  let formReports = await GetFormReports(formId);\n  if (!formReports) {\n    formReports = [];\n  }\n  let id = await GetNextId(formId);\n  id += 1;\n  const newRep = report;\n  newRep.id = id;\n\n  formReports.push(newRep);\n\n  reports = Object.values(reports).filter((r) => r.id !== formId.toString());\n  reports.push({ id: formId, reports: formReports });\n  return localforage.setItem('Reports', reports);\n}\n\nexport async function EditReport(formId, report) {\n  let formReports = await GetFormReports(formId);\n  reports = await GetReports();\n  if (!formReports) {\n    formReports = [];\n  }\n\n  formReports = formReports.filter((r) => r.id !== report.id);\n  formReports.push(report);\n\n  const newReps = Object.values(reports).filter((r) => r.id !== formId.toString());\n  newReps.push({ id: formId, reports: formReports });\n  return localforage.setItem('Reports', newReps);\n}\n\nexport async function RemoveReport(report) {\n  await GetReports();\n\n  const newReps = reports.filter((r) => r.id !== report.id);\n  return localforage.setItem('Reports', newReps);\n}\n\nexport async function CleanDatabase() {\n  return localforage.removeItem('Reports');\n}\n\n// Mockup data for Reports\n// [{\n//   formId: [{\n//     reportid:'123'\n//     charts: [{\n//       chardid:\n//       layout:\n//       options:\n//       questionIDs: [],\n//     }]\n//   }]\n// }]\n","import { createHashHistory } from 'history';\n\nconst History = createHashHistory({\n});\n\nexport default History;\n","import { createGlobalStyle } from 'styled-components';\n\nconst GlobalStyle = createGlobalStyle`\nbody * {\n  box-sizing: border-box;\n  font-family: Circular Std Book,\n  -apple-system,blinkmacsystemfont,\n  Segoe UI,roboto,oxygen-sans,ubuntu,cantarell,Helvetica Neue,sans-serif;\n}\n`;\nexport default GlobalStyle;\n","import styled from 'styled-components';\nimport { Link } from 'react-router-dom';\n\nexport const Item = styled(Link)`\n  display: flex;\n  align-items: center;\n  position: relative;\n  width: 100%;\n  padding: 16px;\n  background: #f5f5f7;\n  border-radius: 4px;\n  border: 1px solid #ced0d3;\n  cursor: pointer;\n  transition: border 0.3s ease 0s;\n  text-decoration: none;\n  margin-top: 16px;\n\n  :hover {\n    border-color: #4277ff;\n  }\n`;\n\nexport const ItemContent = styled.div`\n  text-align: left;\n  flex-grow: 1;\n  color: #2b3245;\n  white-space: nowrap;\n  overflow: hidden;\n  text-overflow: ellipsis;\n  font-weight: normal;\n`;\n\nexport const ItemTitle = styled.h2`\n  margin: 0;\n  padding: 0;\n  max-width: 100%;\n  overflow: hidden;\n  text-overflow: ellipsis;\n  white-space: nowrap;\n  display: block;\n  font-weight: 400;\n`;\n\nexport const ItemDesc = styled.p`\n  margin: 0;\n  color: rgba(43, 50, 69, 0.5);\n  text-overflow: ellipsis;\n  overflow: hidden;\n  white-space: nowrap;\n`;\n\nexport const ItemLabels = styled.div`\n  text-align: right;\n  vertical-align: middle;\n  flex-shrink: 0;\n  margin-left: 5px;\n`;\n","/* eslint-disable max-len */\nimport React, { useContext } from 'react';\nimport { HashRouter as Route, Link } from 'react-router-dom';\nimport PropType from 'prop-types';\nimport * as Styles from './Styles';\nimport { ModalContext } from '../../Contexts/ModalContext';\nimport { FormsContext } from '../../Contexts/FormsContext';\n\nexport default function List() {\n  const [forms] = useContext(FormsContext);\n  const [, setModal] = useContext(ModalContext);\n\n  const handleClick = () => {\n    console.log(process.env.PUBLIC_URL);\n    setModal({ isOpen: false, modalName: 'formSelect' });\n  };\n\n  return (\n    forms.map((f) => <Card key={f.id} name={f.title} desc={f.created_at} id={f.id} onClick={handleClick} />)\n  );\n}\n\n\nfunction Card({\n  id, onClick, name, desc,\n}) {\n  return (\n    <Styles.Item to={`${id}`} onClick={onClick}>\n      <Styles.ItemContent>\n        <Styles.ItemTitle>{name}</Styles.ItemTitle>\n        <Styles.ItemDesc>{desc}</Styles.ItemDesc>\n      </Styles.ItemContent>\n      <Styles.ItemLabels>\n\n      </Styles.ItemLabels>\n    </Styles.Item>\n  );\n}\n\nCard.propTypes = {\n  id: PropType.node.isRequired,\n  onClick: PropType.func.isRequired,\n  name: PropType.node.isRequired,\n  desc: PropType.node.isRequired,\n};\n","import styled from 'styled-components';\n\nexport const NameInput = styled.input`\n  outline: none;\n  background-color: #fdfdfe;\n  border-color: #94b2ff;\n  color: rgb(8, 8, 8);\n  font-size: 16px;\n  width: 100%;\n  border-width: 1px;\n  border-style: solid;\n  border-image: initial;\n  padding: 10px 12px;\n  border-radius: 3px;\n\n  &:focus {\n    border-color: #4d7ff4;\n    background-color: #f6f6fb;\n  }\n`;\n\nexport const Title = styled.span`\n  display: block;\n  margin: 0px 0 10px;\n  width: 400px;\n`;\n\nexport const Content = styled.div`\n  padding: 20px 0px 20px;\n  border-top: 1px solid #e3e3e3;\n  border-bottom: 1px solid #e3e3e3;\n`;\n\nexport const Footer = styled.div`\n  background-color: #f8f8fb;\n  padding: 12px 0px;\n  text-align: right;\n`;\n\nexport const Button = styled.button`\n  font-family: \"Circular Std Book\", -apple-system, BlinkMacSystemFont, \"Segoe UI\", Roboto, Oxygen, Ubuntu, Cantarell, \"Fira Sans\", \"Droid Sans\", \"Helvetica Neue\", sans-serif;\n  font-size: 15px;\n  font-weight: 400;\n  cursor: pointer;\n  opacity: 1;\n  pointer-events: inherit;\n  background-color: rgb(1, 189, 111);\n  color: rgb(255, 255, 255);\n  width: unset;\n  user-select: none;\n  display: inline-flex;\n  flex-direction: row;\n  -webkit-box-align: center;\n  align-items: center;\n  -webkit-box-pack: center;\n  justify-content: center;\n  vertical-align: middle;\n  padding: 9px 12px;\n  border-radius: 4px;\n  border-width: 4px;\n  border-style: initial;\n  border-color: initial;\n  border-image: initial;\n  transition: all 0.15s ease 0s;\n  outline: none;\n`;\n","/* eslint-disable jsx-a11y/label-has-associated-control */\nimport React, { useState } from 'react';\nimport * as Styles from './Styles';\nimport { AddReport } from '../../DataStore';\nimport { FormDataContext } from '../../Contexts/FormsContext';\nimport { ModalContext } from '../../Contexts/ModalContext';\n\nexport default function CreateReport() {\n  const [txt, setName] = useState('');\n  const [formData] = React.useContext(FormDataContext);\n  const [, setModal] = React.useContext(ModalContext);\n\n  const handleSubmit = (evt) => {\n    evt.preventDefault();\n\n    if (!txt || txt.length === 0 || /^\\s*$/.test(txt)) {\n      return;\n    }\n\n    AddReport(formData.id, {\n      name: txt,\n      charts: [],\n    }).then(() => {\n      setModal({\n        isOpen: false,\n        modalName: 'createReport',\n      });\n    });\n  };\n\n  return (\n    <div>\n      <Styles.Content>\n        <Styles.Title>Report Name</Styles.Title>\n        <Styles.NameInput\n          type=\"text\"\n          name=\"name\"\n          placeholder=\"New Report\"\n          autoComplete=\"off\"\n          onChange={(e) => setName(e.target.value)}\n          value={txt}\n          required\n        />\n      </Styles.Content>\n      <Styles.Footer>\n        <Styles.Button type=\"submit\" onClick={handleSubmit}>Submit </Styles.Button>\n      </Styles.Footer>\n    </div>\n  );\n}\n","import styled from 'styled-components';\n\nexport const ModalCont = styled.div`\nposition: relative;\n`;\n\nexport const Close = styled.span`\n  color: #aab3cc;\n  font-size: 20px;\n  background: #edeef5;\n  border-radius: 50%;\n  right: 10px;\n  top: 10px;\n  width: 26px;\n  height: 26px;\n  text-align: center;\n\n  &:hover {\n    color: #2f90ff;\n  }\n\n  &::before {\n    content: 'x';\n  }\n`;\n\n\nexport const Header = styled.div`\n  padding-top: ${(props) => props.theme.header.paddingTop};\n  font-size: ${(props) => props.theme.header.fontSize};\n  font-weight: bold;\n  left: 0;\n  pointer-events: none;\n  top: 0;\n  width: 100%;\n  margin-bottom: 32px;\n`;\n\nexport const ModalContainer = styled.div`\n  background: rgba(255, 255, 255, 0.97);\n  overflow: auto;\n  border-radius: ${(props) => props.theme.modalContainer.borderRad}\n  height: ${(props) => props.theme.modalContainer.height}\n  width: ${(props) => props.theme.modalContainer.width}\n  z-index: 99;\n  padding: ${(props) => props.theme.modalContainer.padding}\n  text-align: ${(props) => props.theme.modalContainer.textAlign}\n  margin: auto;\n  min-width: ${(props) => props.theme.modalContainer.minWidth};\n\n  & ${Close} {\n    position: absolute;\n    cursor: pointer;\n    font-weight: 100;\n    transition: color .3s;\n  }\n`;\n\n\nexport const ModalWrapper = styled.div`\n  display: table;\n  position: fixed;\n  width: 100%;\n  height: 100%;\n  top: 0;\n  left: 0;\n  background-color: rgba(0,0,0,.75);\n  -webkit-animation: appear-modal .4s forwards;\n  animation: appear-modal .4s forwards;\n  z-index: 15;\n  -webkit-transition: background-color .3s;\n  transition: background-color .3s;\n`;\n\nexport const Root = styled.div`\n  font-family: Circular Std Medium;\n  position: fixed;\n  top: 0;\n  left: 0;\n  right: 0;\n  bottom: 0;\n  overflow-x: scroll;\n  background-color: rgba(0,0,0,.75);\n\n  & ${ModalWrapper} {\n    color: #1e2c4c;\n    margin: auto;\n    width: auto;\n    top: auto;\n    left: auto;\n    background: none;\n    position: static;\n    display: flex;\n  }\n`;\n\nexport const ModalContent = styled.div`\n  margin-top: 30px;\n  max-width: 600px;\n  margin: auto;\n  width: 100%;\n`;\n","/* eslint-disable arrow-body-style */\n/* eslint-disable react/prop-types */\n/* eslint-disable react/jsx-indent */\n/* eslint-disable react/destructuring-assignment */\nimport React from 'react';\nimport ReactDOM from 'react-dom';\nimport { ModalContext } from '../../Contexts/ModalContext';\nimport * as Styles from './Styles';\n\nconst modalRoot = document.getElementById('modal-root');\n\nclass Modal extends React.Component {\n  // eslint-disable-next-line react/static-property-placement\n  static contextType = ModalContext;\n\n  constructor(props) {\n    super(props);\n    this.el = document.createElement('div');\n  }\n\n  componentDidMount() {\n    modalRoot.appendChild(this.el);\n  }\n\n  componentWillUnmount() {\n    modalRoot.removeChild(this.el);\n  }\n\n  render() {\n    return (\n      this.context[0].isOpen ? ReactDOM.createPortal(\n        this.props.children, this.el,\n      ) : null\n    );\n  }\n}\n\n// eslint-disable-next-line import/prefer-default-export\nexport function ModalView(props) {\n  const [modal, setModal] = React.useContext(ModalContext);\n\n  const handleClick = (e) => {\n    e.preventDefault();\n\n    setModal(\n      {\n        isOpen: false,\n        modalName: modal.modalName,\n      },\n    );\n  };\n\n  return (\n    <div>\n      <Modal>\n          <Styles.Root>\n            <Styles.ModalWrapper>\n              <Styles.ModalContainer>\n                <Styles.ModalCont>\n                  <Styles.Close onClick={handleClick} />\n                <Styles.Header>\n                  {props.header}\n                </Styles.Header>\n                <Styles.ModalContent>\n                  {props.children}\n                </Styles.ModalContent>\n                </Styles.ModalCont>\n              </Styles.ModalContainer>\n            </Styles.ModalWrapper>\n          </Styles.Root>\n      </Modal>\n    </div>\n  );\n}\n","import React, { useContext } from 'react';\nimport { ThemeProvider } from 'styled-components';\nimport List from './FormsList/Index';\nimport CreateReport from './CreateReport/Index';\nimport { ModalView } from './Modal/Index';\nimport { ModalContext } from '../Contexts/ModalContext';\n\nconst FullScreenTheme = {\n  modalContainer: {\n    width: '100%',\n    height: '100%',\n    borderRad: '0px',\n    textAlign: 'center',\n    padding: '32px',\n    minWidth: '300px',\n  },\n  header: {\n    paddingTop: '135px',\n    fontSize: '2em',\n  },\n};\n\nconst CreateReportTheme = {\n  modalContainer: {\n    width: 'auto',\n    height: 'auto',\n    borderRad: '5px',\n    textAlign: 'left',\n    padding: '16px 32px',\n    minWidth: '300px',\n  },\n  header: {\n    paddingTop: '12px',\n    fontSize: '21px',\n  },\n};\n\nexport default function ModalController() {\n  const [modal, setModal] = useContext(ModalContext);\n\n  const pickForm = (e) => {\n    e.preventDefault();\n    setModal({\n      isOpen: true,\n      modalName: 'formSelect',\n      redirectUrl: '',\n    });\n  };\n\n  const goBack = () => {\n    setModal({\n      isOpen: false,\n      modalName: '',\n      redirectUrl: '',\n    });\n  };\n\n  if (modal.modalName === 'createReport') {\n    return (\n      <ThemeProvider theme={CreateReportTheme}>\n        <ModalView header=\"Create A Report\"><CreateReport /></ModalView>\n      </ThemeProvider>\n    );\n  } if (modal.modalName === 'errorModal') {\n    return (\n      <ThemeProvider theme={CreateReportTheme}>\n        <ModalView header=\"Report Not Found\"><a href={modal.redirectUrl} onClick={goBack}> Go back ?</a></ModalView>\n      </ThemeProvider>\n    );\n  } if (modal.modalName === 'unAuth') {\n    return (\n      <ThemeProvider theme={FullScreenTheme}>\n        <ModalView header=\"Unauthorized Access\"><button type=\"button\" onClick={pickForm}>Pick a Form ?</button></ModalView>\n      </ThemeProvider>\n    );\n  }\n  return (\n    <ThemeProvider theme={FullScreenTheme}>\n      <ModalView header=\"Select A Form\"><List /></ModalView>\n    </ThemeProvider>\n  );\n}\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.1/8 is considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl)\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","/* eslint-disable react/jsx-filename-extension */\nimport React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\nimport * as serviceWorker from './serviceWorker';\nimport { AuthProvider } from './Contexts/AuthContext';\nimport FormsProvider, { FormDataProvider } from './Contexts/FormsContext';\nimport ModalProvider from './Contexts/ModalContext';\nimport SubmissionsProvider from './Contexts/SubmissionsContext';\n\nReactDOM.render(\n  <FormsProvider>\n    <AuthProvider>\n      <FormDataProvider>\n        <SubmissionsProvider>\n          <ModalProvider>\n            <App />\n          </ModalProvider>\n        </SubmissionsProvider>\n      </FormDataProvider>\n    </AuthProvider>\n  </FormsProvider>,\n  document.getElementById('root'),\n);\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n","/* eslint-disable object-curly-newline */\n/* eslint-disable react/jsx-one-expression-per-line */\nimport React from 'react';\nimport { HashRouter as Router, Route, Switch } from 'react-router-dom';\nimport GlobalStyle from './Styles';\nimport ModalController from './Components/ModalController';\nimport History from './History';\nimport Reports from './Components/Report';\n\nexport default function App() {\n  return (\n    <Router history={History}>\n      <GlobalStyle />\n      <Switch>\n        <Route exact path=\"/\" component={Reports} />\n        <Route path=\"/:id(\\d+)\" component={Reports} />\n      </Switch>\n      <ModalController />\n    </Router>\n  );\n}\n","import React from 'react';\nimport PropTypes from 'prop-types';\n\nexport const SubmissionsContext = React.createContext();\n\nexport default function SubmissionsProvider({ children }) {\n  const [submissions, setSubmissions] = React.useState([]);\n\n  return (\n    <SubmissionsContext.Provider value={[submissions, setSubmissions]}>\n      { children }\n    </SubmissionsContext.Provider>\n  );\n}\n\nSubmissionsProvider.propTypes = {\n  children: PropTypes.node.isRequired,\n};\n","// Symbols is a better way to do this, but not all browsers have good support,\n// so instead we'll just make do with a very unlikely string.\nconst customArgumentsToken = '__ES6-PROMISIFY--CUSTOM-ARGUMENTS__';\n\n/**\n * promisify()\n * Transforms callback-based function -- func(arg1, arg2 .. argN, callback) -- into\n * an ES6-compatible Promise. Promisify provides a default callback of the form (error, result)\n * and rejects when `error` is truthy.\n *\n * @param {function} original - The function to promisify\n * @return {function} A promisified version of `original`\n */\nexport default function promisify(original) {\n  // Ensure the argument is a function\n  if (typeof original !== 'function') {\n    throw new TypeError('Argument to promisify must be a function');\n  }\n\n  // If the user has asked us to decode argument names for them, honour that\n  const argumentNames = original[customArgumentsToken];\n\n  // If the user has supplied a custom Promise implementation, use it. Otherwise\n  // fall back to whatever we can find on the global object.\n  const ES6Promise = promisify.Promise || Promise;\n\n  // If we can find no Promise implemention, then fail now.\n  if (typeof ES6Promise !== 'function') {\n    throw new Error('No Promise implementation found; do you need a polyfill?');\n  }\n\n  return function ret(...args) {\n    return new ES6Promise((resolve, reject) => {\n      // Append the callback bound to the context\n      args.push((...values) => {\n        if (values.length === 1 || !argumentNames) {\n          return resolve(values[0]);\n        }\n\n        const o = {};\n        values.forEach((value, index) => {\n          const name = argumentNames[index];\n          if (name) {\n            o[name] = value;\n          }\n        });\n\n        console.log(o);\n        return resolve(o);\n      });\n\n      // eslint-disable-next-line consistent-return\n      args.push((err) => {\n        if (err) {\n          return reject(err);\n        }\n      });\n\n      // Call the function.\n      original.call(this, ...args);\n    });\n  };\n}\n","import React from 'react';\nimport PropType from 'prop-types';\n\nexport const FormsContext = React.createContext();\n\nexport default function FormsProvider({ children }) {\n  const [forms, setForms] = React.useState([]);\n\n  return (\n    <FormsContext.Provider value={[forms, setForms]}>\n      {children}\n    </FormsContext.Provider>\n  );\n}\n\nexport const FormDataContext = React.createContext();\n\nexport function FormDataProvider({ children }) {\n  const [form, setForm] = React.useState({});\n\n  return (\n    <FormDataContext.Provider value={[form, setForm]}>\n      {children}\n    </FormDataContext.Provider>\n  );\n}\n\nFormDataProvider.propTypes = {\n  children: PropType.node.isRequired,\n};\n\nFormsProvider.propTypes = {\n  children: PropType.node.isRequired,\n};\n","/* eslint-disable react/prop-types */\nimport React from 'react';\nimport { Route } from 'react-router-dom';\nimport { FormDataContext } from '../../Contexts/FormsContext';\nimport { ModalContext } from '../../Contexts/ModalContext';\nimport promisify from '../../Utils';\nimport { GetFormReports, EditReport } from '../../DataStore';\nimport Header from '../Header';\nimport Tabs from '../Tabs';\nimport { SubmissionsContext } from '../../Contexts/SubmissionsContext';\nimport ReportEditor from './ReportEditor';\n\nasync function GetSubmissions(formId) {\n  const submissions = await promisify(global.JF.getFormSubmissions)(formId, { limit: 10000 });\n  return submissions;\n}\n\nexport default function Reports({ match }) {\n  const [, setData] = React.useContext(FormDataContext);\n  const [, setSubmissions] = React.useContext(SubmissionsContext);\n  const [modal, setModal] = React.useContext(ModalContext);\n  const [reports, setReports] = React.useState([]);\n\n  React.useEffect(() => {\n    const prom = promisify(global.JF.getFormQuestions);\n    prom(match.params.id)\n      .then((res) => {\n        setData({\n          id: match.params.id,\n          questions: Object.values(res),\n        });\n        GetSubmissions(match.params.id).then((r) => setSubmissions(r));\n        setModal({\n          isOpen: false,\n          modalName: '',\n          redirectUrl: '',\n        });\n      })\n      .catch(() => {\n        setModal({\n          isOpen: true,\n          modalName: 'unAuth',\n          redirectUrl: '',\n        });\n      });\n  }, [match.params.id]);\n\n  React.useEffect(() => {\n    const prom = GetFormReports(match.params.id);\n    prom.then((reps) => {\n      if (!reps) {\n        setReports([]);\n        if (!modal.isOpen) {\n          setModal({\n            isOpen: true,\n            modalName: 'createReport',\n            redirectUrl: '',\n          });\n        }\n      } else {\n        setReports(reps);\n      }\n    });\n  }, [modal, match.params]);\n\n\n  return (\n    <div>\n      <Header />\n      <Route\n        exact\n        path={`${match.url}/:rep`}\n        render={(props) => (\n          <ReportPicker reports={reports} form={match.params.id} match={props.match} />)}\n      />\n      <Route\n        exact\n        path={`${match.url}`}\n        render={() => (\n          <Tabs>\n            {reports.map((rep) => (\n              <div label={rep.name} key={rep.id} id={rep.id} form={match.params.id} />\n            ))}\n          </Tabs>\n        )}\n      />\n    </div>\n  );\n}\n\nfunction ReportPicker({ reports, form, match }) {\n  const [rep, setRep] = React.useState([]);\n  const [, setModal] = React.useContext(ModalContext);\n\n  React.useEffect(() => {\n    const targetRep = reports.filter((r) => r.id == match.params.rep)[0];\n    setRep(targetRep);\n  }, [match.params.rep]);\n\n  React.useEffect(() => {\n    if (rep && rep.length === 0) {\n      setModal({\n        isOpen: true,\n        modalName: 'errorModal',\n        redirectUrl: `${process.env.PUBLIC_URL}/${form}`,\n      });\n    } else {\n      setModal({\n        isOpen: false,\n        modalName: 'errorModal',\n        redirectUrl: '',\n      });\n    }\n  }, [rep]);\n\n  const onReportEdit = (report) => {\n    EditReport(form, report);\n  };\n\n  return (\n    <div>\n      <Tabs active={match.params.rep}>\n        {reports.sort((r1, r2) => r1.id - r2.id).map((r) => (\n          <div label={r.name} key={r.id} id={r.id} form={form} />\n        ))}\n      </Tabs>\n      {\n        rep && rep.length !== 0\n          ? (\n            <ReportEditor\n              report={rep}\n              onReportEdit={onReportEdit}\n            />\n          )\n          : <div />\n      }\n    </div>\n  );\n}\n\n// const charts = [{\n//   layout: {},\n//   options: {},\n//   key: {},\n// }];\n","import React from 'react';\nimport PropTypes from 'prop-types';\n\nexport const ModalContext = React.createContext();\n\nexport default function ModalProvider({ children }) {\n  const [modal, setModal] = React.useState({ isOpen: false, modalName: '' });\n\n  return (\n    <ModalContext.Provider value={[modal, setModal]}>\n      { children }\n    </ModalContext.Provider>\n  );\n}\n\nModalProvider.propTypes = {\n  children: PropTypes.node.isRequired,\n};\n","import styled from 'styled-components';\n\nexport const tabList = styled.ol`\n  border-bottom: 1px solid #ccc;\n  padding-left: 0;\n`;\n\nexport const tabItem = styled.li`\n  display: inline-block;\n  list-style: none;\n  margin-bottom: -1px;\n  padding: 0.5rem 0.75rem;\n`;\n\nexport const tabItemActive = styled(tabItem)`\n  background-color: white;\n  border: solid #ccc;\n  border-width: 1px 1px 0 1px;\n`;\n\nexport const DropviewWrapper = styled.div`\n  position: fixed;\n  background-color: transparent;\n  box-shadow: none;\n  padding: 8px;\n  z-index: 2;\n\n  ::before {\n    content: \"\";\n    position: absolute;\n    height: 0;\n    width: 0;\n    left: 15px;\n    top: 0;\n    border-left: 8px solid transparent;\n    border-right: 8px solid transparent;\n    border-bottom: 8px solid #1c2843;\n    z-index: 2;\n  }\n`;\n\nexport const DropviewContent = styled.div`\n  padding: 10px 5px;\n  background-color: #1c2843;\n  border-radius: 5px;\n  box-shadow: 0 0 10px rgba(0,0,0,.3);\n`;\n","/* eslint-disable react/prop-types */\nimport React, { useState, useContext } from 'react';\nimport * as Styles from './Styles';\nimport { ModalContext } from '../../Contexts/ModalContext';\n\nfunction Tab({\n  label, onClick, active, id, form,\n}) {\n  const [dropview, setDropview] = useState(false);\n  const eventRef = React.useRef(null);\n\n  const handleClick = (e) => {\n    if (id === '-1') e.preventDefault();\n    onClick(id);\n  };\n\n  const handleDropview = () => {\n    setDropview(true);\n  };\n\n  const handleClickOutside = () => {\n    setDropview(false);\n  };\n\n  React.useEffect(() => {\n    document.addEventListener('mousedown', handleClickOutside);\n\n    return () => { document.removeEventListener('mousedown', handleClickOutside); };\n  }, []);\n\n  if (active == id) {\n    return (\n      <Styles.tabItemActive href={`#/${form}/${id}`} onClick={handleClick}>\n        <a href={`#/${form}/${id}`} onClick={handleClick}>\n          {label}\n        </a>\n        <span onClick={handleDropview}>\n          {'  X'}\n          {dropview ? <Dropview /> : null}\n        </span>\n      </Styles.tabItemActive>\n    );\n  }\n\n  return (\n    <Styles.tabItem><a href={`#/${form}/${id}`} onClick={handleClick}>{label}</a></Styles.tabItem>\n  );\n}\n\nexport default function Tabs({ children, active }) {\n  const [, setModal] = useContext(ModalContext);\n  const [activeTab, setActiveTab] = useState(active);\n\n\n  const newReportClick = () => {\n    setModal({\n      isOpen: true,\n      modalName: 'createReport',\n    });\n  };\n\n  const setActive = (tab) => {\n    setActiveTab(tab);\n  };\n\n  React.useEffect(() => { setActive(active); }, [active]);\n\n\n  return (\n    <div>\n      <Styles.tabList>\n        {children.map((child) => (\n          <Tab\n            key={child.props.id}\n            label={child.props.label}\n            onClick={setActive}\n            active={activeTab}\n            id={child.props.id}\n            form={child.props.form}\n          />\n        ))}\n        <Tab key=\"-1\" id=\"-1\" label=\"New Report\" onClick={newReportClick} />\n      </Styles.tabList>\n\n    </div>\n  );\n}\n\nfunction Dropview() {\n  return (\n    <Styles.DropviewWrapper>\n      <Styles.DropviewContent>\n        <div>Rename</div>\n        <div>Delete</div>\n        <div>Delete</div>\n        <div>Delete</div>\n        <div>Delete</div>\n        <div>Delete</div>\n\n      </Styles.DropviewContent>\n    </Styles.DropviewWrapper>\n  );\n}\n"],"sourceRoot":""}